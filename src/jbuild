
(jbuild_version 1)

(library
 ((name            cdds)
  (public_name     cdds)
  (flags         (-thread))
  (libraries       (ctypes ctypes.foreign lwt lwt.unix lwt.preemptive))
  (c_flags         (:include c_flags.sexp))
  (c_library_flags (:include c_library_flags.sexp))))


(rule
  ((targets (c_flags.sexp
             c_library_flags.sexp))
  (deps    (config/discover.exe))
  (action  (run ${<} -ocamlc ${OCAMLC}))))
